{"mappings":"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","sources":["src/index.js","src/modules/class_KrThing.js","src/kraken_data_api_client/kraken_data_api_client.js","src/kraken_data_api_client/kraken_data_api_client_methods.js","src/modules/class_KrThings.js","src/modules/class_KrListItem.js","src/modules/class_KrAction.js","src/modules/class_KrPropertyValueSpecification.js"],"sourcesContent":["\nimport {KrThing as KrThingClass } from './modules/class_KrThing.js';\nimport {KrThings as KrThingsClass } from './modules/class_KrThings.js';\nimport {KrListItem as KrListItemClass } from './modules/class_KrListItem.js';\nimport {KrAction as KrActionClass } from './modules/class_KrAction.js';\nimport {KrPropertyValueSpecification as KrPropertyValueSpecificationClass } from './modules/class_KrPropertyValueSpecification.js';\n\n\nexport var KrThing = KrThingClass;\nexport var KrThings = KrThingsClass;\nexport var KrListItem = KrListItemClass;\nexport var KrPropertyValueSpecification = KrPropertyValueSpecificationClass\n","\n\n//import { KrThing as KrThingRecord } from '../../node_modules/krakenrecordjs/kraken_record/kraken_record.js';\n\nimport { KrThing as KrThingRecord } from 'krakenrecord';\n\n\nimport { KrakenSchemas } from 'krakenschema'\n\nimport { KrSamples } from 'krakenschema'\n\nimport { KrakenDataApiClient } from \"../kraken_data_api_client/kraken_data_api_client.js\";\n\n//import { kraken_bootstrap } from 'https://tactik8.github.io/krakenJsBootstrap/kraken_bootstrap/kraken_bootstrap.js'\n\n\n\n\nexport class KrThing extends KrThingRecord {\n    /* Contains metadata to qualify a value\n\n    attributes:\n    - credibility or c:    \n    - observationDate or d: \n    - record:         Returns all metadata in a dict\n    - object:         The original source of the data\n    - Instrument:     What brought the data over\n\n\n    Methods\n    - equal:     Returns true if comes from same object\n    - lt:        Worst metadata in order of c and d\n    - gt:        Best metadata in order of c and d\n\n    */\n\n\n    constructor(record_type = null, record_id = null) {\n        super(record_type, record_id);\n        \n    }\n\n\n    get html_form(){\n        //return get_html_form(this.record_type);\n    }\n\n\n    get schema(){\n        return KrakenSchemas.get(this.record_type);\n    }\n\n\n    \n    // -----------------------------------------------------\n    //  Properties \n    // -----------------------------------------------------\n    \n    get actionStatus(){\n        return this.getProperty('actionStatus').value;\n    }\n    set actionStatus(value){\n        return this.setProperty('actionStatus',value);\n    }\n    \n    get endTime(){\n        return this.getProperty('endTime').value;\n    }\n    set endTime(value){\n        return this.setProperty('endTime',value);\n    }\n\n    get error(){\n        return this.getProperty('error').value;\n    }\n    set error(value){\n        return this.setProperty('error',value);\n    }\n    \n    get familyName(){\n        return this.getProperty('familyName').value;\n    }\n    set familyName(value){\n        return this.setProperty('familyName',value);\n    }\n    \n    get givenName(){\n        return this.getProperty('givenName').value;\n    }\n    set givenName(value){\n        return this.setProperty('givenName',value);\n    }\n    \n    get name(){\n        if(this.getProperty('name')){\n            return this.getProperty('name').value;\n        };\n        return null;\n    }\n    set name(value){\n        return this.setProperty('name', value);\n    }\n\n    get startTime(){\n        return this.getProperty('startTime').value;\n    }\n    set startTime(value){\n        return this.setProperty('startTime',value);\n    }\n\n    get url(){\n        return this.getProperty('url').value;\n    }\n    set url(value){\n        return this.setProperty('url',value);\n    }\n\n    // ----------------\n    \n    get agent(){\n        var property = this.getProperty('agent');\n        if(property){\n            return property.value;\n        };\n        return null;\n    }\n\n    set agent(value){\n        return this.setProperty('agent', value);\n    }\n    get instrument(){\n        var property = this.getProperty('instrument');\n        if(property){\n            return property.value;\n        };\n        return null;\n    }\n    \n    set instrument(value){\n        return this.setProperty('instrument',value);\n    }\n    get object(){\n        var property = this.getProperty('object');\n        if(property){\n            return property.value;\n        };\n        return null;\n    }\n    set object(value){\n        return this.setProperty('object', value);\n    }\n    \n    get result(){\n        var result = this.getProperty('result');\n        if(!result){\n            result = new KrThing();\n            this.setProperty('result', result);\n        };\n        return result;\n    }\n    set result(value){\n        return this.setProperty('result', value);\n    }\n\n\n    new(record_type, record_id){\n        //super.method();\n        return new KrThing(record_type, record_id);\n    }\n\n    // API\n\n    async api_get() {\n\n        let previousRecord = this.getSystemRecord()\n        var k = new KrakenDataApiClient();\n        var fullRecord = await k.get(this.record_type, this.record_id)\n        this.setSystemRecord(fullRecord);\n\n\n        if(this.getSystemRecord() != previousRecord){\n\n            let eventRecord = {\n                \"@type\": \"updateAction\",\n                \"@id\": String(crypto.randomUUID()),\n                \"targetCollection\": this.record_ref,\n                \"object\": this.record,\n                \"actionStatus\": \"completedActionStatus\",\n                \"timeStart\": new Date(),\n                \"timeEnd\": new Date()\n            }\n\n\n            const newEvent = new CustomEvent(\"kr-updateAction\", { detail: eventRecord });\n            this.dispatchEvent(newEvent)\n            \n        }\n       \n        return;\n        \n    }\n    async api_post() {\n        var k = new KrakenDataApiClient();\n        return await k.post(this.getSystemRecord());\n    }\n\n\n    // -----------------------------------------------------\n    //  Headings  \n    // -----------------------------------------------------\n\n\n    get_sample(record_id){\n        let r = KrSamples(this.record_type, record_id);\n        return r;\n    }\n\n    set_sample(record_id){\n\n        this.setFullRecord(KrSamples(this.record_type, record_id));\n    }\n    \n    get_heading1(){\n        \n        return this.schema.get_heading1(this.getBestRecord());\n    }\n    get_heading2(){\n        return this.schema.get_heading2(this.getBestRecord());\n    }\n    get_headingText(){\n        return this.schema.get_heading_text(this.getBestRecord());\n    }\n    get_headingImage(){\n        return this.schema.get_heading_image(this.getBestRecord());\n    }\n    \n\n\n\n\n    \n   \n}","import { kraken_api_post_async } from './kraken_data_api_client_methods.js';\nimport { kraken_api_get_async } from './kraken_data_api_client_methods.js';\n\nexport class KrakenDataApiClient {\n    constructor(apiBaseUrl = null, apiPath = null) {\n\n        this.apiBaseUrl = apiBaseUrl;\n        this.apiPath = apiPath;\n        this.headers = null;\n        this.init_KrakenApi();\n\n    }\n\n    init_KrakenApi() {\n\n        //this.apiBaseUrl = this.apiBaseUrl || 'https://5a37e52f-2a27-47ff-b754-2a573636cb5a-00-ayio2unothdd.spock.replit.dev';\n\n        if(!this.apiBaseUrl){this.apiBaseUrl = this.apiBaseUrl || 'https://data.krknapi.com'};\n\n        if(!this.apiPath){this.apiPath = this.apiPath || '/api/test_container'};\n\n        this.headers = this.headers || {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": \"bob\"\n        };\n\n    }\n\n    get(record_type, record_id) {\n\n        return kraken_api_get_async(this.apiBaseUrl, this.apiPath, this.headers, record_type, record_id);\n    }\n    post(record) {\n\n        return kraken_api_post_async(this.apiBaseUrl, this.apiPath, this.headers, record, this.headers);\n\n\n    }\n\n}\n\n\n\n","\n\n\n\n\nexport async function kraken_api_get_async(apiBaseUrl, apiPath, headers, record_type, record_id) {\n\n    const requestOptions = {\n        method: 'GET',\n        headers: headers,\n\n    };\n\n    console.log('get', record_type, record_id)\n    let params = { \"@type\": record_type, \"@id\": record_id };\n\n    let new_url = new URL(apiPath, apiBaseUrl);\n    new_url.search = new URLSearchParams(params);\n\n\n    const response = await fetch(new_url, requestOptions)\n    \n    let record =  await response.json()\n    console.log(response.body)\n    console.log('get', record)\n    return record\n\n}\n\n\n\n\n\nexport async function kraken_api_post_async(apiBaseUrl, apiPath, headers, record) {\n\n    let requestOptions = {\n        method: 'POST',\n        headers: headers,\n        body: JSON.stringify(record)\n    };\n    \n    let new_url = new URL(apiPath, apiBaseUrl);\n    \n    const response = await fetch(new_url, requestOptions)\n\n    \n    let result = await response.json();\n\n    console.log('res', response.status)\n    return result\n}","\nimport { KrThing } from './class_KrThing.js';\nimport { KrListItem } from './class_KrListItem.js';\n\n\nexport class KrThings extends KrThing {\n    /* Contains metadata to qualify a value\n\n    attributes:\n    \n    - Items:     What brought the data over\n\n\n    Methods\n    - equal:     Returns true if comes from same object\n    - lt:        Worst metadata in order of c and d\n    - gt:        Best metadata in order of c and d\n\n    */\n\n\n    constructor(record_id = null) {\n        super('ItemList', record_id);\n\n    }\n\n    get items(){\n\n        let results = [];\n        let t = this.firstItem\n\n        while(t && t != null){\n            results.push(t)\n            t = t.nextItem\n        }\n        \n        return results\n    }\n\n    get itemRecords(){\n\n        let items = this.getProperty('listItemElement').values\n\n        let results = []\n\n        for(let item of items){\n            results.push(item.item.record); \n        }\n        return results\n    }\n    \n    get itemFullRecords(){\n\n        let items = this.getProperty('listItemElement').values\n        \n        let results = []\n\n        for(let item of items){\n            results.push(item.item.fullRecord); \n        }   \n        return results\n    }\n\n    get firstItem(){\n\n        let items = this.getProperty('listItemElement').values\n        \n        if (items.length == 0){\n            return null\n        };\n\n        for (let item of items){\n            if(!item.previousItem || item.previousItem==null){\n                return item\n            }\n        }\n        \n        return null;\n        \n    }\n    \n    get lastItem(){\n\n        let items = this.getProperty('listItemElement').values\n        \n        if (items.length == 0){\n            return null;\n        };\n        for (let item of items){\n            if(item.nextItem === undefined || item.nextItem == null){\n                return item\n            }\n        }\n        return null;\n        \n    }\n    \n    add(listItem, itemId){\n\n        if(Array.isArray(listItem)){\n            for(let l of listItem){\n                this.add(l)\n            }\n            return   \n        }\n        \n        if(!(listItem instanceof KrListItem)){\n            listItem = new KrListItem(listItem, itemId);\n        };\n        \n        let lastItem = this.lastItem\n        \n        if (lastItem){\n            listItem.position = lastItem.position + 1\n            listItem.previousItem = lastItem\n            lastItem.nextItem = listItem\n            \n        } else {\n            listItem.position = 0\n        }\n\n        // Add to list if not already in it.\n        if (!this.get(listItem)){\n            this.addProperty('listItemElement', listItem)\n        }\n        return listItem\n    }\n\n    reCalculatePosition(){\n\n        let t = this.firstItem;\n        var position = 0;\n        \n        while(t){\n            t.position = position;\n            position = position + 1\n            t = t.nextItem\n        }\n    }\n\n    // -----------------------------------------------------\n    //  CRUD for items \n    // -----------------------------------------------------\n\n    \n    remove(itemRef){\n\n        var item = this.get(itemRef)\n        \n        if(!item){ \n            return null\n        }\n\n        var p = item.previousItem\n        var n = item.nextItem\n\n        console.log('item', p, n)\n     \n        // Ressign before and after links to one another\n        if(p){ p.nextItem = n }\n        if(n){ n.previousItem = p }\n\n        // Remove from list\n        this.deleteProperty('listItemElement', item)\n\n        // Sets position\n        item.position = null;\n        this.reCalculatePosition()\n\n        // Remove links\n        item.previousItem = null\n        item.nextItem = null\n\n        \n       \n        return\n        \n    }\n\n\n   \n    \n    insertBefore(ref, itemRef){\n\n        var p = null\n        var item = this.get(itemRef)\n        if(!item){ return null}\n        \n        var n = this.get(ref)\n        \n        if(n){\n            var p = n.previousItem\n        }\n        \n        item.previousItem = p\n        item.nextItem = n\n\n        if(p){ p.nextItem = item }\n        if(n){ n.previousItem = item }\n\n        // Sets position\n        this.reCalculatePosition();\n        \n        // Add to list if not already in it.\n        if (!this.get(item.ref)){\n            this.addProperty('listItemElement', item)\n        }\n        \n        return\n    }\n    \n    \n    insertAfter(ref, itemRef){\n\n        // Retrieve all elements\n\n        var item = this.get(itemRef)\n        var p = item.previousItem\n        var n = null;\n        \n        if(p){\n            n = p.nextItem\n        }\n        \n        // Change allocation\n        item.previousItem = p;\n        item.nextItem = n;\n\n        if(p){ p.nextItem = item;};\n        if(n){ n.previousItem = item; };\n\n        // Sets position\n        this.reCalculatePosition();\n        \n        // Add to list if not already in it.\n        if (!this.get(item.ref)){\n            this.addProperty('listItemElement', item)\n        };\n        return; \n    }\n\n    get(ref){\n\n        if(!ref){ return null};\n        \n        if(ref && ref.ref){ ref = ref.ref};\n        \n        if (!ref || !ref['@type']){ return null};\n\n        if (ref['@type'] == 'listItem'){\n            return this.getByListItem(ref);\n        } else {\n            return this.getByItem(ref);\n        };\n        \n    }\n\n    getByListItem(ref){\n\n        let items = this.getProperty('listItemElement').values\n\n        for(let item of items){\n\n            if(item.record_type == ref['@type'] && item.record_id == ref['@id']){\n                return item\n            }   \n        }\n        return null;\n    }\n\n    \n    getByItem(ref){\n\n        let items = this.getProperty('listItemElement').values\n\n        for(let item of items){\n            if(item.item.record_type == ref['@type'] && item.item.record_id == ref['@id']){\n                return item\n            }      \n        }\n        return null;\n        \n    }\n\n\n    // -----------------------------------------------------\n    //  Filters \n    // -----------------------------------------------------\n\n    filter(propertyValueSpecifications){\n        /**\n         * Returns new Things with filtered items\n         */\n\n\n        let newThings = new KrThings()\n\n        \n        for(let item of this.items){\n          \n            let result = propertyValueSpecifications.map(pvs => pvs.test(item.item));\n           \n            if (result.every(Boolean) == true){\n                newThings.add(item.item)\n            }\n        }\n\n        return newThings\n    }\n\n    \n    // -----------------------------------------------------\n    //  HTML components \n    // -----------------------------------------------------\n\n    \n\n  \n    \n}","\nimport { KrThing } from './class_KrThing.js';\n\n\nexport class KrListItem extends KrThing {\n    /* Contains metadata to qualify a value\n\n    attributes:\n\n    - Items:     What brought the data over\n\n\n    Methods\n    - equal:     Returns true if comes from same object\n    - lt:        Worst metadata in order of c and d\n    - gt:        Best metadata in order of c and d\n\n    */\n\n\n    constructor(item, record_id) {\n        super('ListItem', record_id);\n        this.item = item;\n        if(!record_id){this.setProperty('@id', String(crypto.randomUUID()))}\n    }\n\n\n    get item(){\n        if(this.getProperty('item')){\n            return this.getProperty('item').value;\n        };\n        return null;\n    }\n    set item(value){\n        this.setProperty('item', value);\n    }\n\n    get previousItem(){\n        if(this.getProperty('previousItem')){\n            return this.getProperty('previousItem')?.value || null;\n        };\n        return null;\n    }\n    set previousItem(value){\n        //if(value && value.ref){ value = value.ref};\n        this.setProperty('previousItem', value);\n    }\n    get nextItem(){\n        if(this.getProperty('nextItem')){\n            return this.getProperty('nextItem')?.value || null;\n        };\n        return null;\n       \n    }\n    set nextItem(value){\n\n        //if(value && value.ref){ value = value.ref};\n        this.setProperty('nextItem', value);\n    }\n\n    get position(){\n        if(this.getProperty('position')){\n            return this.getProperty('position')?.value || null;\n        };\n        return null;\n    }\n    set position(value){\n        this.setProperty('position', value);\n    }\n  \n}\n\n","\n\n\nimport {KrThing } from './class_KrThing.js';\n\nexport class KrAction extends KrThing {\n    /* Contains metadata to qualify a value\n\n    attributes:\n    - credibility or c:    \n    - observationDate or d: \n    - record:         Returns all metadata in a dict\n    - object:         The original source of the data\n    - Instrument:     What brought the data over\n\n\n    Methods\n    - equal:     Returns true if comes from same object\n    - lt:        Worst metadata in order of c and d\n    - gt:        Best metadata in order of c and d\n\n    */\n\n\n    constructor(object, result, error) {\n        super('Action', null);\n\n        this.actionStatus = 'completedActionStatus';\n        this.startTime = new Date();\n        this.endTime = new Date();\n        if(object){this.setProperty('object', object)};\n        if(result){this.setProperty('result', result)};\n\n\n        if(!this.object){ this.setProperty('object', new KrThing())};\n        if(!this.instrument){ this.setProperty('instrument', new KrThing())};\n        if(!this.agent){ this.setProperty('agent', new KrThing())};\n        if(!this.result){ this.setProperty('result', new KrThing())};\n        \n        if(error){\n            this.error = error;\n            this.actionStatus = 'failedActionStatus';\n        }        \n    }\n}","\nimport { KrThing as KrThingRecord } from 'krakenrecord';\n\n\nimport {KrThing } from './class_KrThing.js';\n\nexport class KrPropertyValueSpecification extends KrThing {\n    /* Contains metadata to qualify a value\n\n    attributes:\n    - credibility or c:    \n    - observationDate or d: \n    - record:         Returns all metadata in a dict\n    - object:         The original source of the data\n    - Instrument:     What brought the data over\n\n\n    Methods\n    - equal:     Returns true if comes from same object\n    - lt:        Worst metadata in order of c and d\n    - gt:        Best metadata in order of c and d\n\n    */\n\n\n    constructor(object, result, error) {\n        super('Action', null);\n\n        this.actionStatus = 'completedActionStatus';\n        this.startTime = new Date();\n        this.endTime = new Date();\n        if(object){this.setProperty('object', object)};\n        if(result){this.setProperty('result', result)};\n\n\n        if(!this.object){ this.setProperty('object', new KrThing())};\n        if(!this.instrument){ this.setProperty('instrument', new KrThing())};\n        if(!this.agent){ this.setProperty('agent', new KrThing())};\n        if(!this.result){ this.setProperty('result', new KrThing())};\n        \n        if(error){\n            this.error = error;\n            this.actionStatus = 'failedActionStatus';\n        }        \n    }\n\n\n\n    // -----------------------------------------------------\n    //  Methods \n    // -----------------------------------------------------\n\n    test(thing){\n        /**\n         * Test if a given thing meets the condition \n         */\n\n        let propertyID = this.propertyID\n        let value = thing.getProperty(propertyID).value\n\n        \n        // Test min / max value\n        if (this.minValue){\n            if (value < this.minValue) { return false }\n        }\n        if (this.maxValue){\n            if (value > this.maxValue) { return false }\n        }\n\n        // Test valueRequired\n        if (this.valueRequired == true && (value === undefined || value === null )){\n            return false\n        }\n\n        // Test valuePattern\n        if(this.valuePattern){\n            const re = new RegExp(this.valuePattern);\n            const result = re.test(value)\n            if(result == false){ return false }\n        }\n\n        // Default\n        return true\n    }\n\n\n    // -----------------------------------------------------\n    //  Helpers to build conditions \n    // -----------------------------------------------------\n\n    setEqualTo(value){\n        if(typeof value != \"string\"){\n            this.minValue = value\n            this.maxValue = value\n        } else {\n            this.valuePattern = `^${value}$`\n        }\n    }\n\n    setContains(value){\n        this.valuePattern = `${value}`\n    }\n\n    setContainsWord(value){\n        this.valuePattern = `\\\\b${value}\\\\b`\n    }\n\n    setStartsWith(value){\n        this.valuePattern = `^${value}`\n    }\n\n    setEndsWith(value){\n        this.valuePattern = `${value}$`\n    }\n    \n    setGE(value){\n        this.minValue = value\n    }\n\n    setLE(value){\n        this.maxValue = value\n    }\n    \n\n    // -----------------------------------------------------\n    // ---------------- Specific properties ----------------\n    // -----------------------------------------------------\n    \n    get defaultValue(){\n        return this.getProperty('defaultValue').value \n    }\n    set defaultValue(value){\n        this.setProperty('defaultValue', value)\n    }\n\n    get maxValue(){\n        return this.getProperty('maxValue').value \n    }\n    set maxValue(value){\n        this.setProperty('maxValue', value)\n    }\n\n    get minValue(){\n        return this.getProperty('minValue').value \n    }\n    set minValue(value){\n        this.setProperty('minValue', value)\n    }\n\n    get multipleValues(){\n        return this.getProperty('multipleValues').value \n    }\n    set multipleValues(value){\n        this.setProperty('multipleValues', value)\n    }\n\n    get readonlyValue(){\n        return this.getProperty('readonlyValue').value \n    }\n    set readonlyValue(value){\n        this.setProperty('readonlyValue', value)\n    }\n\n    get stepValue(){\n        return this.getProperty('stepValue').value \n    }\n    set stepValue(value){\n        this.setProperty('stepValue', value)\n    }\n\n    get valueMaxLength(){\n        return this.getProperty('valueMaxLength').value \n    }\n    set valueMaxLength(value){\n        this.setProperty('valueMaxLength', value)\n    }\n\n\n    get valueMinLength(){\n        return this.getProperty('valueMinLength').value \n    }\n    set valueMinLength(value){\n        this.setProperty('valueMinLength', value)\n    }\n\n    get valueName(){\n        return this.getProperty('valueName').value \n    }\n    set valueName(value){\n        this.setProperty('valueName', value)\n    }\n\n    get valuePattern(){\n        return this.getProperty('valuePattern').value \n    }\n    set valuePattern(value){\n        this.setProperty('valuePattern', value)\n    }\n\n    get valueRequired(){\n        return this.getProperty('valueRequired').value \n    }\n    set valueRequired(value){\n        this.setProperty('valueRequired', value)\n    }\n\n    get propertyID(){\n        return this.getProperty('propertyID').value \n    }\n    set propertyID(value){\n        this.setProperty('propertyID', value)\n    }\n    \n}"],"names":[],"version":3,"file":"main.js.map"}